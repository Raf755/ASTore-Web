<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Flash Sale PUBG Mobile</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }
        .flash-pulse {
            animation: pulse 1.5s infinite;
        }
        .discount-badge {
            position: absolute;
            top: -10px;
            right: -10px;
            background: #ef4444;
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        .sold-badge {
            position: absolute;
            top: -10px;
            left: -10px;
            background: #05a305;
            color: white;
            padding: 2px 8px;
            border-radius: 12px;
            font-size: 10px;
            font-weight: bold;
        }
        .btn-disabled {
            opacity: 0.6;
            cursor: not-allowed;
            pointer-events: none;
        }
        .flash-ended {
            border-color: #d1d5db !important;
        }
    </style>
</head>
<body class="bg-gray-100">
    <!-- Flash Sale Menu -->
    <div class="container mx-auto px-4 py-8">
        <div class="flash-sale bg-white rounded-xl overflow-hidden shadow-lg mb-6 relative">
            <!-- Header with timer -->
            <div class="bg-gradient-to-r from-rose-500 to-red-700 py-4 px-6 flex justify-between items-center">
                <div>
                    <h3 class="text-xl font-bold text-white uppercase flex items-center">
                        <i class="fas fa-bolt mr-2"></i> Flash Sale PUBG Mobile
                    </h3>
                    <p class="text-yellow-200 text-xs mt-1" id="time-message">Berakhir pukul 18:00 hari ini</p>
                </div>
                
                <!-- Countdown Timer -->
                <div class="flash-timer bg-black bg-opacity-30 text-white px-4 py-2 rounded-lg flex items-center">
                    <div class="text-center mr-2">
                        <span id="hours" class="block text-xl font-bold">00</span>
                        <span class="text-xs">Jam</span>
                    </div>
                    <span class="text-xl">:</span>
                    <div class="text-center mx-2">
                        <span id="minutes" class="block text-xl font-bold">00</span>
                        <span class="text-xs">Menit</span>
                    </div>
                    <span class="text-xl">:</span>
                    <div class="text-center ml-2">
                        <span id="seconds" class="block text-xl font-bold">00</span>
                        <span class="text-xs">Detik</span>
                    </div>
                </div>
            </div>
            
            <!-- Sale Items -->
            <div class="p-6 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4" id="sale-items">
                <!-- All 10 products will be inserted here by JavaScript -->
            </div>
                </a>
            </div>
        </div>
    </div>

    <script>
        // Data produk flash sale
        const products = [
            {
                id: 1,
                name: "Royale Pass+",
                description: "Season 26 Ultimate",
                originalPrice: "300.000",
                discountPrice: "90.000",
                discount: "-70%",
                sold: "250+",
                icon: "fas fa-crown",
                iconColor: "yellow",
                borderColor: "red"
            },
            {
                id: 2,
                name: "Legendary Skin Set",
                description: "Pistol + Karakter",
                originalPrice: "1.200.000",
                discountPrice: "600.000",
                discount: "-50%",
                sold: "180+",
                icon: "fas fa-tshirt",
                iconColor: "blue",
                borderColor: "blue"
            },
            {
                id: 3,
                name: "Airdrop Bundle",
                description: "5x Airdrop Premium",
                originalPrice: "900.000",
                discountPrice: "315.000",
                discount: "-65%",
                sold: "300+",
                icon: "fas fa-parachute-box",
                iconColor: "green",
                borderColor: "green"
            },
            {
                id: 4,
                name: "Vehicle Skin",
                description: "Mythic UAZ",
                originalPrice: "800.000",
                discountPrice: "320.000",
                discount: "-60%",
                sold: "95+",
                icon: "fas fa-car",
                iconColor: "purple",
                borderColor: "purple"
            },
            {
                id: 5,
                name: "Helm Legendary",
                description: "Level 3 Elite",
                originalPrice: "750.000",
                discountPrice: "337.500",
                discount: "-55%",
                sold: "150+",
                icon: "fas fa-helmet-battle",
                iconColor: "orange",
                borderColor: "orange"
            },
            {
                id: 6,
                name: "M416 Glacier",
                description: "Upgradeable",
                originalPrice: "1.500.000",
                discountPrice: "825.000",
                discount: "-45%",
                sold: "210+",
                icon: "fas fa-gun",
                iconColor: "pink",
                borderColor: "pink"
            },
            {
                id: 7,
                name: "UC Package",
                description: "10.000 UC + Bonus",
                originalPrice: "1.200.000",
                discountPrice: "840.000",
                discount: "-30%",
                sold: "80+",
                icon: "fas fa-sack-dollar",
                iconColor: "indigo",
                borderColor: "indigo"
            },
            {
                id: 8,
                name: "Crate Bundle",
                description: "10x Elite Crates",
                originalPrice: "500.000",
                discountPrice: "300.000",
                discount: "-40%",
                sold: "120+",
                icon: "fas fa-box-open",
                iconColor: "teal",
                borderColor: "teal"
            },
            {
                id: 9,
                name: "Voice Pack",
                description: "Pro Voice Effects",
                originalPrice: "350.000",
                discountPrice: "227.500",
                discount: "-35%",
                sold: "65+",
                icon: "fas fa-headset",
                iconColor: "amber",
                borderColor: "amber"
            },
            {
                id: 10,
                name: "Achievement Set",
                description: "Exclusive Frame/Badge",
                originalPrice: "400.000",
                discountPrice: "300.000",
                discount: "-25%",
                sold: "50+",
                icon: "fas fa-medal",
                iconColor: "cyan",
                borderColor: "cyan"
            }
        ];

        // Render produk ke dalam HTML
        function renderProducts() {
            const container = document.getElementById('sale-items');
            container.innerHTML = '';
            
            products.forEach(product => {
                container.innerHTML += `
                    <div class="sale-item bg-gray-50 rounded-lg p-4 relative border-2 border-${product.borderColor}-300 hover:border-${product.borderColor}-500 transition-all duration-300 flash-pulse">
                        <div class="discount-badge">${product.discount}</div>
                        <div class="sold-badge">Terjual ${product.sold}</div>
                        <div class="flex items-center mb-3">
                            <div class="w-12 h-12 bg-${product.iconColor}-100 rounded-full flex items-center justify-center mr-3">
                                <i class="${product.icon} text-${product.iconColor}-600 text-xl"></i>
                            </div>
                            <div>
                                <h4 class="font-bold">${product.name}</h4>
                                <p class="text-xs text-gray-500">${product.description}</p>
                            </div>
                        </div>
                        <div class="flex justify-between items-center">
                            <div>
                                <span class="line-through text-gray-400 text-sm">Rp ${product.originalPrice}</span>
                                <span class="block text-red-600 font-bold">Rp ${product.discountPrice}</span>
                            </div>
                            <a href="https://wa.me/6283874806543?text=Saya%20ingin%20membeli%20${encodeURIComponent(product.name)}%20(${encodeURIComponent(product.description)})%20seharga%20Rp%20${product.discountPrice.replace('.','')}" 
                               class="btn-buy bg-red-500 hover:bg-red-600 text-white px-3 py-1 rounded-full text-xs transition inline-block">
                                Beli Sekarang
                            </a>
                        </div>
                    </div>
                `;
            });
        }

        // Fungsi untuk mengatur waktu akhir (jam 18:00 hari ini TANPA reset untuk besok)
        function setEndTime(hours, minutes) {
            const endTime = new Date();
            endTime.setHours(hours, minutes, 0, 0);
            return endTime;
        }

        // Waktu akhir flash sale (jam 18:00 hari ini saja)
        const endTime = setEndTime(14, 40);
        let saleEnded = false;

        // Fungsi untuk menonaktifkan semua tombol beli
        function disableBuyButtons() {
            // Nonaktifkan tombol "Beli Sekarang"
            const buyButtons = document.querySelectorAll('.btn-buy');
            buyButtons.forEach(button => {
                button.textContent = 'Produk Sudah Tidak Tersedia!!';
                button.classList.remove('bg-red-500', 'hover:bg-red-600');
                button.classList.add('bg-gray-400', 'btn-disabled');
                button.removeAttribute('href');
            });

            // Nonaktifkan tombol "Lihat Semua"
            const viewAllButton = document.querySelector('.btn-view-all');
            viewAllButton.textContent = 'Flash Sale Telah Berakhir';
            viewAllButton.classList.remove('from-yellow-400', 'to-orange-500', 'hover:from-yellow-500', 'hover:to-orange-600');
            viewAllButton.classList.add('bg-gray-400', 'btn-disabled');
            viewAllButton.removeAttribute('href');

            // Ubah border item menjadi abu-abu
            document.querySelectorAll('.sale-item').forEach(item => {
                const colors = ['red', 'blue', 'green', 'purple', 'orange', 'pink', 'indigo', 'teal', 'amber', 'cyan'];
                colors.forEach(color => {
                    item.classList.remove(`border-${color}-300`, `hover:border-${color}-500`);
                });
                item.classList.add('flash-ended');
            });

            // Matikan animasi pulse
            document.querySelectorAll('.flash-pulse').forEach(el => {
                el.style.animation = 'none';
            });
        }

        // Fungsi untuk memperbarui countdown setiap detik
        function updateCountdown() {
            const now = new Date();
            let timeRemaining = Math.max(0, Math.floor((endTime - now) / 1000));

            // Jika waktu sudah lewat (termasuk jika sudah hari berikutnya)
            if (now > endTime) {
                timeRemaining = 0;
            }

            const hours = Math.floor(timeRemaining / 3600);
            const minutes = Math.floor((timeRemaining % 3600) / 60);
            const seconds = timeRemaining % 60;

            document.getElementById('hours').textContent = hours.toString().padStart(2, '0');
            document.getElementById('minutes').textContent = minutes.toString().padStart(2, '0');
            document.getElementById('seconds').textContent = seconds.toString().padStart(2, '0');

            if (timeRemaining <= 0 && !saleEnded) {
                // Waktu habis
                clearInterval(countdownInterval);
                document.querySelector('.flash-timer').innerHTML = '<span class="text-xl font-bold">FLASH SALE BERAKHIR!</span>';
                document.getElementById('time-message').textContent = 'Flash Sale telah berakhir';
                
                // Nonaktifkan tombol beli
                disableBuyButtons();
                saleEnded = true;
            }
        }

        // Inisialisasi
        document.addEventListener('DOMContentLoaded', () => {
            renderProducts();
            
            // Mulai countdown
            const countdownInterval = setInterval(updateCountdown, 1000);
            
            // Cek langsung saat halaman dimuat
            updateCountdown();
        });
    </script>
</body>
</html>
